import{a4 as x,gS as M,bS as R,nc as j,bw as l,eE as E,ci as D,bD as W,bT as v,bs as C,eM as J,nd as N,bF as B,d as s,as as c,k as $,bG as d,bH as p,aj as i,a0 as m,bN as y,cx as F,bI as K,dr as Y,bJ as z,bK as A,dn as I,di as f,eW as U,dm as Z,gB as w,ne as Q,mr as q,gw as S,F as V,ai as X,eR as ee,dp as te,dl as re,nf as L}from"./index-CyMr76_m.js";const oe=x.div`
  display: ${t=>{var e;return(e=t.$style)==null?void 0:e.display}};
  grid-template-columns: ${t=>{var e;return(e=t.$style)==null?void 0:e.gridTemplateColumns}};
  grid-template-rows: ${t=>{var e;return(e=t.$style)==null?void 0:e.gridTemplateRows}};
  column-gap: ${t=>{var e;return(e=t.$style)==null?void 0:e.columnGap}};
  row-gap: ${t=>{var e;return(e=t.$style)==null?void 0:e.rowGap}};

  background-color: ${t=>{var e;return(e=t.$style)==null?void 0:e.background}} !important;
  border-radius: ${t=>{var e;return(e=t.$style)==null?void 0:e.radius}};
  border-width: ${t=>{var e;return(e=t.$style)==null?void 0:e.borderWidth}};
  border-color: ${t=>{var e;return(e=t.$style)==null?void 0:e.border}};
  border-style: ${t=>{var e;return(e=t.$style)==null?void 0:e.borderStyle}};
  margin: ${t=>{var e;return(e=t.$style)==null?void 0:e.margin}};
  padding: ${t=>{var e;return(e=t.$style)==null?void 0:e.padding}};
`,ne=x(M)`
  ${t=>t.$itemCss};
  > div {
    height: ${t=>{var e,r;return t.$matchColumnsHeight?`calc(100% - ${((e=t.$style)==null?void 0:e.padding)||0} - ${((r=t.$style)==null?void 0:r.padding)||0})`:"auto"}};
    background-color: ${t=>{var e;return t.$background||((e=t.$style)==null?void 0:e.background)}} !important;
    border-radius: ${t=>{var e;return(e=t.$style)==null?void 0:e.radius}};
    border-width: ${t=>{var e;return(e=t.$style)==null?void 0:e.borderWidth}};
    border-color: ${t=>{var e;return(e=t.$style)==null?void 0:e.border}};
    border-style: ${t=>{var e;return(e=t.$style)==null?void 0:e.borderStyle}};
    margin: ${t=>{var e;return(e=t.$style)==null?void 0:e.margin}};
    padding: ${t=>{var e;return(e=t.$style)==null?void 0:e.padding}};
  }
`,ae={disabled:R,columns:j,containers:l(E(I),{0:{view:{},layout:{}},1:{view:{},layout:{}}}),autoHeight:D,matchColumnsHeight:l(W,!0),templateRows:l(v,"1fr"),rowGap:l(v,"20px"),templateColumns:l(v,"1fr 1fr"),columnGap:l(v,"20px"),style:l(C(J),{}),columnStyle:l(C(N),{borderWidth:"1px"})},se=t=>s(te,{...t,emptyRows:15,hintPlaceholder:re,radius:"0",style:t.style,enableGridLines:!1}),ie=t=>{let{columns:e,containers:r,dispatch:a,matchColumnsHeight:o,templateRows:u,rowGap:n,templateColumns:P,columnGap:k,columnStyle:O}=t;return s(f.Provider,{value:t.style.background,children:s(U.Provider,{value:t.disabled,children:s(oe,{$style:{...t.style,display:"grid",gridTemplateColumns:P,columnGap:k,gridTemplateRows:u,rowGap:n},children:e.map(h=>{const g=String(h.id),T=L(L(a,"containers"),g);if(!r[g])return null;const b=r[g].children;e.length;const _=String(h.itemCss);return s(f.Provider,{value:t.columnStyle.background,children:s(ne,{$style:t.columnStyle,$minWidth:h.minWidth,$matchColumnsHeight:o,$itemCss:_,$background:h.background,children:s(se,{layout:b.layout.getView(),items:Z(b.items.getView()),positionParams:b.positionParams.getView(),dispatch:T,autoHeight:t.autoHeight,style:O})},g)})})})})})},G=function(){return new B(ae,(t,e)=>s(ie,{...t,dispatch:e})).setPropertyViewFn(t=>c($,{children:[s(d,{name:p.basic,children:t.columns.propertyView({title:i("responsiveLayout.column"),newOptionLabel:i("responsiveLayout.addColumn")})}),(m.useContext(y).editorModeStatus==="logic"||m.useContext(y).editorModeStatus==="both")&&c(d,{name:p.interaction,children:[F(t),K(t)]}),["layout","both"].includes(m.useContext(y).editorModeStatus)&&c($,{children:[s(d,{name:p.layout,children:t.autoHeight.getPropertyView()}),c(d,{name:i("responsiveLayout.columnsLayout"),children:[t.matchColumnsHeight.propertyView({label:i("responsiveLayout.matchColumnsHeight")}),Y({},s("div",{style:{marginTop:"8px"},children:i("responsiveLayout.columnsSpacing")})),t.templateColumns.propertyView({label:i("responsiveLayout.columnDefinition"),tooltip:i("responsiveLayout.columnsDefinitionTooltip")}),t.templateRows.propertyView({label:i("responsiveLayout.rowDefinition"),tooltip:i("responsiveLayout.rowsDefinitionTooltip")}),t.columnGap.propertyView({label:i("responsiveLayout.columnGap")}),t.rowGap.propertyView({label:i("responsiveLayout.rowGap")})]})]}),(m.useContext(y).editorModeStatus==="layout"||m.useContext(y).editorModeStatus==="both")&&c($,{children:[s(d,{name:p.style,children:t.style.getPropertyView()}),s(d,{name:p.columnStyle,children:t.columnStyle.getPropertyView()})]})]})).build()}();class le extends G{syncContainers(){const e=this.children.columns.getView(),r=new Set(e.map(n=>String(n.id)));let a=this.children.containers.getView();const o=[];Object.keys(a).forEach(n=>{r.has(n)||o.push(w("containers",w(n,Q())))}),r.forEach(n=>{a.hasOwnProperty(n)||o.push(w("containers",q(n,{layout:{},items:{}})))});let u=this;return o.forEach(n=>{u=u.reduce(n)}),u}reduce(e){const r=this.children.columns.getView();if(e.type===S.CUSTOM){const o=e.value;if(o.type==="push"){const n=o.value;V.isEmpty(n.key)&&(n.key=n.label),e={...e,value:{...o,value:{...n}}}}const{path:u}=e;if(o.type==="delete"&&u[0]==="columns"&&r.length<=1)return X.warning(i("responsiveLayout.atLeastOneColumnError")),this}let a=super.reduce(e);return e.type===S.UPDATE_NODES_V2&&(a=a.syncContainers()),a}realSimpleContainer(e){return Object.values(this.children.containers.children).find(r=>r.realSimpleContainer(e))}getCompTree(){const e=this.children.containers.getView(),r=Object.values(e).map(a=>a.getCompTree());return ee(r)}findContainer(e){const r=this.children.containers.getView();for(const a of Object.values(r)){const o=a.findContainer(e);if(o)return o===a?this:o}}getPasteValue(e){const r=this.children.containers.getView(),a=V.mapValues(r,o=>o.getPasteValue(e));return{...this.toJsonValue(),containers:a}}autoHeight(){return this.children.autoHeight.getView()}}const H=z(le,[A]),de=Object.freeze(Object.defineProperty({__proto__:null,ColumnLayoutComp:H,ResponsiveLayoutBaseComp:G},Symbol.toStringTag,{value:"Module"})),ce=Object.freeze(Object.defineProperty({__proto__:null,ColumnLayoutComp:H},Symbol.toStringTag,{value:"Module"}));export{de as _,ce as a};
