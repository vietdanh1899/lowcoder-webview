import{bU as p,d as h,a0 as d,hr as a,hs as f,ht as m,hu as u,gw as l,fb as y,fc as v}from"./index-CyMr76_m.js";var E=Object.defineProperty,b=(i,t,e)=>t in i?E(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e,o=(i,t,e)=>(b(i,typeof t!="symbol"?t+"":t,e),e);const g=new p({},i=>i).build();class V extends g{constructor(t){super(t),o(this,"params",{}),o(this,"inputs",[]),this.params=t}getView(){return this.children}getPropertyView(){return this.inputs.length===0?null:this.inputs.map(({name:t,description:e})=>{const r=this.children[t];return r?h(d.Fragment,{children:r.propertyView({label:t,tooltip:e,layout:"vertical"})},t):null})}setInputs(t){const e={};t.forEach(({name:s,type:n})=>{a[n]&&(e[s]=a[n])});const r=f(this.params,e);return m(this,{children:r,inputs:t})}getInputNodes(){const t={};return this.inputs.forEach(({name:e,type:r})=>{const s=this.children[e];if(s){if(r===u.Query){const n=s.children.value.getView();if(!n)return;t[e]=n;return}if(s.unevaledValue){const n=s.node();n&&(t[e]=n)}}}),t}getInputQueryExecAction(t){var e;if(t.type!==l.ROUTE_BY_NAME||t.action.type!==l.EXECUTE_QUERY)return null;const r=t.name;if(!this.inputs.some(({name:n,type:c})=>r===n&&c===u.Query))return null;const s=(e=Object.entries(this.children).find(([n])=>n===r))==null?void 0:e[1];return s?y(s.getView().value,v(t.action)):null}}export{V as default};
