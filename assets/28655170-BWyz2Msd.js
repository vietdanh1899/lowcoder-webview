import{G as c,aw as p,au as m,U as d,a0 as g,bm as E,bn as w}from"./index-CyMr76_m.js";const v="cm-click-comp-name",x=c.mark({class:v}),l=p.define(),i=m.define({create(){return c.none},update(t,r){t=t.map(r.changes);const e=r.effects.filter(s=>s.is(l));return e.length>0?e[0].value:t},provide:t=>d.decorations.from(t)});function u(t,r){if(!t||!r)return[];const e=[];let s=0;return t.replace(/[a-zA-Z_$][\w$]*/g,a=>{const n=t.indexOf(a,s);return n>=0&&(r.hasOwnProperty(a)&&(n===0||t[n-1]!==".")&&e.push([n,n+a.length]),s=n+a.length),a}),e}function O(t,r,e){if(!t||!e)return[];if(r==="Function")return u(t,e);const s=[];let a=0;for(const n of E(t)){if(w(n)){const o=a+2;u(n.slice(2,-2),e).forEach(([f,h])=>s.push([f+o,h+o]))}a+=n.length}return s}function k(t,r,e,s){g.useEffect(()=>{if(!t||r!==t.state.doc.toString())return;const a=O(r,e,s).map(([o,f])=>x.range(o,f)),n=[l.of(c.set(a))];t.state.field(i,!1)||n.push(p.appendConfig.of([i])),t.dispatch({effects:n})},[t,r,e,s])}export{v as E,k as O};
