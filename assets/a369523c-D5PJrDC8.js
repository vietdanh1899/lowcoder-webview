import{a4 as H,gR as W,gS as z,bS as G,nc as J,bw as l,eE as K,ci as N,bD as C,bs as b,ng as F,nd as A,c7 as I,by as y,bF as Q,d as s,as as p,k as P,bG as c,bH as g,aj as i,a0 as w,bN as $,cx as U,bI as Y,dr as x,bJ as Z,bK as q,dn as X,di as ee,eW as te,dm as re,gB as S,ne as oe,mr as ne,gw as R,F as k,ai as ae,eR as ie,dp as se,dl as le,nf as O}from"./index-CyMr76_m.js";const ue=H(W)`
  ${e=>e.$animationStyle}
  height: 100%;
  border-radius: ${e=>{var t;return(t=e.$style)==null?void 0:t.radius}};
  border-width: ${e=>{var t;return(t=e.$style)==null?void 0:t.borderWidth}};
  border-color: ${e=>{var t;return(t=e.$style)==null?void 0:t.border}};
  border-style: ${e=>{var t;return(t=e.$style)==null?void 0:t.borderStyle}};
  padding: ${e=>e.$style.padding};
  background-color: ${e=>e.$style.background};
  overflow-x: auto;
  rotate: ${e=>e.$style.rotation}
`,ce=H(z)`
  display: flex;
  flex-direction: column;
  flex-basis: ${e=>e.$minWidth};
  max-width: ${e=>e.$minWidth};

  > div {
    height: ${e=>e.$matchColumnsHeight?"100%":"auto"};
    background-color: ${e=>{var t;return(t=e.$style)==null?void 0:t.background}} !important;
    border-radius: ${e=>{var t;return(t=e.$style)==null?void 0:t.radius}};
    border-width: ${e=>{var t;return(t=e.$style)==null?void 0:t.borderWidth}}px;
    border-color: ${e=>{var t;return(t=e.$style)==null?void 0:t.border}};
    border-style: ${e=>{var t;return(t=e.$style)==null?void 0:t.borderStyle}};
    margin: ${e=>{var t;return(t=e.$style)==null?void 0:t.margin}};
    padding: ${e=>{var t;return(t=e.$style)==null?void 0:t.padding}};
  }
`,de={disabled:G,columns:J,containers:l(K(X),{0:{view:{},layout:{}},1:{view:{},layout:{}}}),autoHeight:N,rowBreak:l(C,!1),matchColumnsHeight:l(C,!0),style:l(b(F),{}),columnStyle:l(b(A),{}),animationStyle:b(I),columnPerRowLG:l(y,4),columnPerRowMD:l(y,2),columnPerRowSM:l(y,1),verticalSpacing:l(y,8),horizontalSpacing:l(y,8)},ye=e=>s(se,{...e,emptyRows:15,hintPlaceholder:le,radius:e.style.radius,style:e.style}),pe=e=>{let{columns:t,containers:n,dispatch:a,rowBreak:o,matchColumnsHeight:d,style:r,columnStyle:E,columnPerRowLG:V,columnPerRowMD:L,columnPerRowSM:h,verticalSpacing:T,horizontalSpacing:j,animationStyle:B}=e;return s(ee.Provider,{value:e.style.background,children:s(te.Provider,{value:e.disabled,children:s("div",{style:{padding:r.margin,height:"100%"},children:s(ue,{$style:r,$animationStyle:B,wrap:o,gutter:[j,T],children:t.map(f=>{const m=String(f.id),D=O(O(a,"containers"),m);if(!n[m])return null;const v=n[m].children,u=t.length;return s(ce,{lg:24/(u<V?u:V),md:24/(u<L?u:L),sm:24/(u<h?u:h),xs:24/(u<h?u:h),$style:e.columnStyle,$minWidth:f.minWidth,$matchColumnsHeight:d,children:s(ye,{layout:v.layout.getView(),items:re(v.items.getView()),positionParams:v.positionParams.getView(),dispatch:D,autoHeight:e.autoHeight,style:E})},m)})})})})})},M=function(){return new Q(de,(e,t)=>s(pe,{...e,dispatch:t})).setPropertyViewFn(e=>p(P,{children:[s(c,{name:g.basic,children:e.columns.propertyView({title:i("responsiveLayout.column"),newOptionLabel:"Column"})}),(w.useContext($).editorModeStatus==="logic"||w.useContext($).editorModeStatus==="both")&&p(c,{name:g.interaction,children:[U(e),Y(e)]}),["layout","both"].includes(w.useContext($).editorModeStatus)&&p(P,{children:[s(c,{name:g.layout,children:e.autoHeight.getPropertyView()}),p(c,{name:i("responsiveLayout.rowLayout"),children:[e.rowBreak.propertyView({label:i("responsiveLayout.rowBreak")}),x({},s("div",{style:{marginTop:"8px"},children:i("responsiveLayout.columnsPerRow")})),e.columnPerRowLG.propertyView({label:i("responsiveLayout.desktop")}),e.columnPerRowMD.propertyView({label:i("responsiveLayout.tablet")}),e.columnPerRowSM.propertyView({label:i("responsiveLayout.mobile")})]}),p(c,{name:i("responsiveLayout.columnsLayout"),children:[e.matchColumnsHeight.propertyView({label:i("responsiveLayout.matchColumnsHeight")}),x({},s("div",{style:{marginTop:"8px"},children:i("responsiveLayout.columnsSpacing")})),e.horizontalSpacing.propertyView({label:i("responsiveLayout.horizontal")}),e.verticalSpacing.propertyView({label:i("responsiveLayout.vertical")})]}),s(c,{name:i("responsiveLayout.rowStyle"),children:e.style.getPropertyView()}),s(c,{name:i("responsiveLayout.columnStyle"),children:e.columnStyle.getPropertyView()}),s(c,{name:g.animationStyle,hasTooltip:!0,children:e.animationStyle.getPropertyView()})]})]})).build()}();class he extends M{syncContainers(){const t=this.children.columns.getView(),n=new Set(t.map(r=>String(r.id)));let a=this.children.containers.getView();const o=[];Object.keys(a).forEach(r=>{n.has(r)||o.push(S("containers",S(r,oe())))}),n.forEach(r=>{a.hasOwnProperty(r)||o.push(S("containers",ne(r,{layout:{},items:{}})))});let d=this;return o.forEach(r=>{d=d.reduce(r)}),d}reduce(t){const n=this.children.columns.getView();if(t.type===R.CUSTOM){const o=t.value;if(o.type==="push"){const r=o.value;k.isEmpty(r.key)&&(r.key=r.label),t={...t,value:{...o,value:{...r}}}}const{path:d}=t;if(o.type==="delete"&&d[0]==="columns"&&n.length<=1)return ae.warning(i("responsiveLayout.atLeastOneColumnError")),this}let a=super.reduce(t);return t.type===R.UPDATE_NODES_V2&&(a=a.syncContainers()),a}realSimpleContainer(t){return Object.values(this.children.containers.children).find(n=>n.realSimpleContainer(t))}getCompTree(){const t=this.children.containers.getView(),n=Object.values(t).map(a=>a.getCompTree());return ie(n)}findContainer(t){const n=this.children.containers.getView();for(const a of Object.values(n)){const o=a.findContainer(t);if(o)return o===a?this:o}}getPasteValue(t){const n=this.children.containers.getView(),a=k.mapValues(n,o=>o.getPasteValue(t));return{...this.toJsonValue(),containers:a}}autoHeight(){return this.children.autoHeight.getView()}}const _=Z(he,[q]),ge=Object.freeze(Object.defineProperty({__proto__:null,ResponsiveLayoutBaseComp:M,ResponsiveLayoutComp:_},Symbol.toStringTag,{value:"Module"})),ve=Object.freeze(Object.defineProperty({__proto__:null,ResponsiveLayoutComp:_},Symbol.toStringTag,{value:"Module"}));export{ge as _,ve as a};
