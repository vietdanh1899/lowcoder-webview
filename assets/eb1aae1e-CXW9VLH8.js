import{ct as J,bw as y,aj as a,bT as v,bS as N,bz as O,bD as w,fB as S,bs as W,fC as Y,bx as Z,cM as z,bB as C,bF as I,dK as u,fR as d,d as m,fW as g,dT as E,as as s,k as h,bG as i,bH as n,a0 as o,bN as r,e1 as P,fO as D,fP as q,cx as F,bI as k,bJ as H,bL as T,dZ as p,cy as K,f1 as G,cA as Q,fH as X,fI as _,e0 as ee,F as te,fJ as ae,fK as oe,fL as re}from"./index-CyMr76_m.js";import{formDataChildren as se,FormDataPropertyView as le}from"./2606e654-BU0arLul.js";import{M as A,k as ie,T as $}from"./a210f5e6-DUYHgLOt.js";import{TimeUIView as ne}from"./66695b96-iGZsi92D.js";import{TimeRangeUIView as ue}from"./3783b9cc-BQa3lGC7.js";import"./0a66c108-BO-PYvVj.js";const de=[Q,X,_],ce={required:w,minTime:v,maxTime:v,customRule:ee},B={label:J,placeholder:y(v,a("time.placeholder")),format:v,disabled:N,onEvent:O(de),showTime:w,use12Hours:w,hourStep:S.closed(1,24,1),minuteStep:S.closed(1,60,1),secondStep:S.closed(1,60,1),style:y(W(Y),{background:"transparent",borderWidth:"1px"}),suffixIcon:y(Z,"/icon:regular/clock"),viewRef:z,...ce},L=e=>te.pick(e,"format","use12Hours","minuteStep","secondStep","placeholder"),U=e=>[ae(e),oe(e),re(e)];function f(e){if(e.customRule)return{validateStatus:"error",help:e.customRule};const t=u(e.value.value,d);return e.required&&!t.isValid()?{validateStatus:"error",help:a("prop.required")}:{validateStatus:"success"}}const me={value:C("value"),...B,...se},pe=new I(me,e=>{let t=null;return e.value.value!==""&&(t=u(e.value.value,d)),e.label({required:e.required,style:e.style,children:m(ne,{viewRef:e.viewRef,$style:e.style,disabled:e.disabled,value:t!=null&&t.isValid()?t:null,disabledTime:()=>A(e.minTime,e.maxTime),...L(e),hourStep:e.hourStep,minuteStep:e.minuteStep,secondStep:e.secondStep,placeholder:e.placeholder,onChange:l=>{ie(l&&l.isValid()?l.format(g):"",e.value.onChange,e.onEvent)},onFocus:()=>e.onEvent("focus"),onBlur:()=>e.onEvent("blur"),suffixIcon:E(e.suffixIcon)&&e.suffixIcon}),...f(e)})}).setPropertyViewFn(e=>s(h,{children:[m(i,{name:n.basic,children:e.value.propertyView({label:a("prop.defaultValue"),tooltip:a("time.formatTip")})}),m(le,{...e}),(o.useContext(r).editorModeStatus==="logic"||o.useContext(r).editorModeStatus==="both")&&s(h,{children:[s(i,{name:n.validation,children:[P(e),D(e),q(e),e.customRule.propertyView({})]}),s(i,{name:n.interaction,children:[e.onEvent.getPropertyView(),F(e),k(e)]})]}),(o.useContext(r).editorModeStatus==="layout"||o.useContext(r).editorModeStatus==="both")&&e.label.getPropertyView(),(o.useContext(r).editorModeStatus==="layout"||o.useContext(r).editorModeStatus==="both")&&s(i,{name:n.layout,children:[e.format.propertyView({label:a("time.format")}),e.placeholder.propertyView({label:a("time.placeholderText")})]}),(o.useContext(r).editorModeStatus==="logic"||o.useContext(r).editorModeStatus==="both")&&s(i,{name:n.advanced,children:[U(e),e.use12Hours.propertyView({label:a("prop.use12Hours")}),e.suffixIcon.propertyView({label:a("button.suffixIcon")})]}),(o.useContext(r).editorModeStatus==="layout"||o.useContext(r).editorModeStatus==="both")&&m(i,{name:n.style,children:e.style.getPropertyView()})]})).setExposeMethodConfigs($).build(),fe=function(){const e={start:C("start"),end:C("end"),...B};return new I(e,t=>{let l=null;t.start.value!==""&&(l=u(t.start.value,d));let c=null;t.end.value!==""&&(c=u(t.end.value,d));const j=m(ue,{viewRef:t.viewRef,$style:t.style,disabled:t.disabled,start:l!=null&&l.isValid()?l:null,end:c!=null&&c.isValid()?c:null,disabledTime:()=>A(t.minTime,t.maxTime),...L(t),hourStep:t.hourStep,minuteStep:t.minuteStep,secondStep:t.secondStep,placeholder:[t.placeholder,t.placeholder],onChange:(b,V)=>{t.start.onChange(b&&b.isValid()?b.format(g):""),t.end.onChange(V&&V.isValid()?V.format(g):""),t.onEvent("change")},onFocus:()=>t.onEvent("focus"),onBlur:()=>t.onEvent("blur"),suffixIcon:E(t.suffixIcon)&&t.suffixIcon}),x=f({...t,value:t.start}),M=f({...t,value:t.end});return t.label({required:t.required,style:t.style,children:j,...x.validateStatus!=="success"?x:M.validateStatus!=="success"?M:x})}).setPropertyViewFn(t=>s(h,{children:[s(i,{name:n.basic,children:[t.start.propertyView({label:a("time.start"),tooltip:a("time.formatTip")}),t.end.propertyView({label:a("time.end"),tooltip:a("time.formatTip")})]}),(o.useContext(r).editorModeStatus==="logic"||o.useContext(r).editorModeStatus==="both")&&s(h,{children:[s(i,{name:n.validation,children:[P(t),D(t),q(t),t.customRule.propertyView({})]}),s(i,{name:n.interaction,children:[t.onEvent.getPropertyView(),F(t),k(t)]})]}),(o.useContext(r).editorModeStatus==="layout"||o.useContext(r).editorModeStatus==="both")&&t.label.getPropertyView(),(o.useContext(r).editorModeStatus==="layout"||o.useContext(r).editorModeStatus==="both")&&s(i,{name:n.layout,children:[t.format.propertyView({label:a("time.format")}),t.placeholder.propertyView({label:a("time.placeholderText")})]}),(o.useContext(r).editorModeStatus==="logic"||o.useContext(r).editorModeStatus==="both")&&s(i,{name:n.advanced,children:[U(t),t.use12Hours.propertyView({label:a("prop.use12Hours")}),t.suffixIcon.propertyView({label:a("button.suffixIcon")})]}),(o.useContext(r).editorModeStatus==="layout"||o.useContext(r).editorModeStatus==="both")&&m(i,{name:n.style,children:t.style.getPropertyView()})]})).build()}(),Se=H(pe,[new T("value",a("export.timePickerValueDesc")),p({name:"formattedValue",desc:a("export.timePickerFormattedValueDesc"),depKeys:["value","format"],func:e=>{const t=e.value?u(e.value,d):null;return t!=null&&t.isValid()?t.format(e.format):""}}),p({name:"invalid",desc:a("export.invalidDesc"),depKeys:["value","required","minTime","maxTime","customRule"],func:e=>f({...e,value:{value:e.value}}).validateStatus!=="success"}),...K]);let R=H(fe,[new T("start",a("export.timeRangeStartDesc")),new T("end",a("export.timeRangeEndDesc")),p({name:"formattedValue",desc:a("export.timeRangeFormattedValueDesc"),depKeys:["start","end","format"],func:e=>{const t=e.start?u(e.start,d):null,l=e.end?u(e.end,d):null;return[(t==null?void 0:t.isValid())&&t.format(e.format),(l==null?void 0:l.isValid())&&l.format(e.format)].filter(c=>c).join(" - ")}}),p({name:"formattedStartValue",desc:a("export.timeRangeFormattedStartValueDesc"),depKeys:["start","format"],func:e=>{const t=e.start?u(e.start,d):null;return(t==null?void 0:t.isValid())&&t.format(e.format)}}),p({name:"formattedEndValue",desc:a("export.timeRangeFormattedEndValueDesc"),depKeys:["end","format"],func:e=>{const t=e.end?u(e.end,d):null;return(t==null?void 0:t.isValid())&&t.format(e.format)}}),p({name:"invalid",desc:a("export.invalidDesc"),depKeys:["start","end","required","minTime","maxTime","customRule"],func:e=>f({...e,value:{value:e.start}}).validateStatus!=="success"||f({...e,value:{value:e.end}}).validateStatus!=="success"}),...K]);R=G(R,[...$,{method:{name:"clearAll",description:a("date.clearAllDesc"),params:[]},execute:e=>{e.children.start.getView().onChange(""),e.children.end.getView().onChange("")}},{method:{name:"resetAll",description:a("date.resetAllDesc"),params:[]},execute:e=>{e.children.start.getView().reset(),e.children.end.getView().reset()}}]);export{Se as TimePickerComp,R as TimeRangeComp,pe as timePickerControl,fe as timeRangeControl};
